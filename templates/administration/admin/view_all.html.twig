{% extends 'base.html.twig' %}

{% block title %}
	View all
{% endblock %}

{% block body %}

	<!--app-content open-->
	<div class="main-content app-content mt-0">
		<div
			class="side-app">

			<!-- CONTAINER -->
			<div class="main-container container-fluid">

				<div class="col">
					<div class="card">
						<div class="card-header">
							<h3 class="card-title">Info Tabs style</h3>
						</div>
						<div class="card-body">
							<div class="panel panel-primary">
								<div class="tab-menu-heading">
									<div
										class="tabs-menu">
										<!-- Tabs -->
										<ul class="nav panel-tabs panel-info">
											<li>
												<a href="#tab21" class="active" data-bs-toggle="tab">
													<span>
														<i class="fe fe-user me-1"></i>
													</span>Tab 1</a>
											</li>
											<li>
												<a href="#tab22" data-bs-toggle="tab">
													<span>
														<i class="fe fe-calendar me-1"></i>
													</span>Tab 2</a>
											</li>
											<li>
												<a href="#tab23" data-bs-toggle="tab">
													<span>
														<i class="fe fe-settings me-1"></i>
													</span>Tab 3</a>
											</li>
											<li>
												<a href="#tab24" data-bs-toggle="tab">
													<span>
														<i class="fe fe-bell me-1"></i>
													</span>Tab 4</a>
											</li>
										</ul>
									</div>
								</div>
								<div class="panel-body tabs-menu-body">
									<div class="tab-content">
										<div class="tab-pane active" id="tab21">
											<div class="card-body">
												<button class="btn btn-primary mb-4" data-bs-toggle="modal" data-bs-target="#scrollingmodal">Ajouter un utilisateur</button>
                                                <!-- Modal -->
    <div class="modal fade" id="scrollingmodal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ajouter un utilisateur</h5>
                    <button class="btn-close" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">×</span>
						</button>
                </div>
                <div class="modal-body">
                    <div class="container-login100">
					<div class="wrap-login100 p-6 row">
						<span class="login100-form-title">
							Ajouter un utilisateur
						</span>
						<div class="col">
							{{form_start(formUser)}}
							{% for message in app.flashes('contact_success') %}
								<div class="col-md-12 alert alert alert-success alert-dismissible fade show" role="alert">
									{{ message }}
									<button type="button" class="close" data-dismiss="alert" aria-label="close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
							{% endfor %}
							<div class="wrap-input100 validate-input input-group" data-bs-validate="">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="mdi mdi-account" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.lastname)}}
							</div>
							<div class="wrap-input100 validate-input input-group" data-bs-validate="">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="mdi mdi-account" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.firstname)}}
							</div>
							<div class="wrap-input100 validate-input input-group" data-bs-validate="Valid email is required: ex@abc.xyz">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="zmdi zmdi-email" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.email)}}
							</div>
							<div class="wrap-input100 validate-input input-group" data-bs-validate="">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="zmdi zmdi-phone" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.phone)}}
							</div>
						</div>
						<div class="col">
							<div class="wrap-input100 validate-input input-group" data-bs-validate="">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="zmdi zmdi-key" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.roles)}}
							</div>
							<div class="wrap-input100 validate-input input-group" data-bs-validate="">
								<a href="#" class="input-group-text bg-white text-muted">
									<i class="zmdi zmdi-male-female" aria-hidden="true"></i>
								</a>
								{{form_widget(formUser.sexe)}}
							</div>

							<div class="wrap-input100 validate-input input-group" data-bs-validate="z">
								{{form_widget(formUser.picture)}}
							</div>

							<label class="custom-control custom-checkbox mt-4">
								<input type="checkbox" class="custom-control-input" required>
								<span class="custom-control-label">Agree the
									<a href="terms.html">terms and policy</a>
								</span>
							</label>
						</div>
						<div class="container-login100-form-btn">
							{{form_widget(formUser.submit)}}
						</div>
						{{form_end(formUser)}}
						<div class="text-center pt-3">
							<p class="text-dark mb-0">Vous avez déjà un compte?<a href="{{path('login')}}" class="text-primary ms-1">Connectez-vous</a>
							</p>
						</div>
					</div>
				</div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
												
										<div class="tab-pane" id="tab23">
											<div class="card-body">
												<div class="table-responsive">
													<table class="table table-bordered text-nowrap border-bottom" id="responsive-datatable">
														<thead>
															<tr>
																<th class="wd-15p border-bottom-0">Photo</th>
																<th class="wd-15p border-bottom-0">Prénom</th>
																<th class="wd-15p border-bottom-0">Nom</th>
																<th class="wd-20p border-bottom-0">Role</th>
																<th class="wd-10p border-bottom-0">Email</th>
																<th class="wd-10p border-bottom-0">Actions</th>

															</tr>
														</thead>
														<tbody>
															{% for user in users %}
																<tr>
																	<td><img style="height:100px;width:100px;" src="{{ asset('uploads/user/' ~ user.picture)}}" alt=""></td>
																	<td>{{ user.firstname }}</td>
																	<td>{{ user.lastname }}</td>
																	<td>{{ user.role }}</td>
																	<td>{{ user.email }}</td>

																	<td name="bstable-actions">
																		<div
																			class="btn-list">
																			{# Bouton modifier #}
																			<a href="{{path('edit_user',{'id': user.id})}}" id="bEdit" type="button" class="btn btn-sm btn-primary">
																				<span class="fe fe-edit"></span>
																			</a>
																			{# fin bouton modifier #}

																			{# Bouton supprimer #}
																			<a href="{{path('delete_user',{'id': user.id})}}" id="bDel" type="button" class="btn btn-sm btn-danger">
																				<span class="fe fe-trash-2"></span>
																			</a>
																			{# fin bouton supprimer #}
																		</div>
																	</td>
																</tr>
															{% endfor %}

														</tbody>
													</table>
												</div>
											</div>
										</div>
										<div class="tab-pane" id="tab24">
											<div class="card-body">
												<a href="{{path('addUser')}}" id="table2-new-row-button" class="btn btn-primary mb-4">
													Ajouter un nouvel utilisateur</a>
												<div class="table-responsive">
													<table class="table table-bordered text-nowrap border-bottom" id="responsive-datatable">
														<thead>
															<tr>
																<th class="wd-15p border-bottom-0">Photo</th>
																<th class="wd-15p border-bottom-0">Prénom</th>
																<th class="wd-15p border-bottom-0">Nom</th>
																<th class="wd-20p border-bottom-0">Role</th>
																<th class="wd-10p border-bottom-0">Email</th>
																<th class="wd-10p border-bottom-0">Actions</th>

															</tr>
														</thead>
														<tbody>
															{% for user in users %}
																<tr>
																	<td><img style="height:100px;width:100px;" src="{{ asset('uploads/user/' ~ user.picture)}}" alt=""></td>
																	<td>{{ user.firstname }}</td>
																	<td>{{ user.lastname }}</td>
																	<td>{{ user.role }}</td>
																	<td>{{ user.email }}</td>

																	<td name="bstable-actions">
																		<div
																			class="btn-list">
																			{# Bouton modifier #}
																			<a href="{{path('edit_user',{'id': user.id})}}" id="bEdit" type="button" class="btn btn-sm btn-primary">
																				<span class="fe fe-edit"></span>
																			</a>
																			{# fin bouton modifier #}

																			{# Bouton supprimer #}
																			<a href="{{path('delete_user',{'id': user.id})}}" id="bDel" type="button" class="btn btn-sm btn-danger">
																				<span class="fe fe-trash-2"></span>
																			</a>
																			{# fin bouton supprimer #}
																		</div>
																	</td>
																</tr>
															{% endfor %}

														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

					</div>

				</div>
			</div>
		</div>
	</div>

{% endblock %}
